<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
     <!-- Day 10: Event Handling -->
    <h1>Event Handling</h1>
    <p id="demo">Click the button to change the text.</p>
    <button>Click to Change</button>
    <div>

        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSE7QZBJaerrclVsxSR2eX83dH91gevN8MtEw&s" alt="Test Image">
    </div>
    <div>
        <p class="checkboxPara"></p>    
        <input type="text"> Type to Enter Text
        <p class="inputPara"></p>
    </div>
    <form >
        <div>
            Learning <input type="checkbox">
        </div>
        <div>
            Male <input type="radio" name="gender" value="male"> 
            female <input type="radio" name="gender" value="female"> 
        </div>
        <div>
            Notes <input type="text" name="Kushaal" id="">
        </div>
        <button type="submit">Submit</button>
    </form>
    <br>

    <label for="country">Country:</label>
        <select id="country" name="country">
            <option value="usa">USA</option>
            <option value="canada">Canada</option>
            <option value="uk">UK</option>
            <option value="australia">Australia</option>
        </select>
        <p id="para2"> </p>
    
    <ul>Testing
        <li>Test 1</li>
        <li>Test 2</li>
        <li>Test 3</li>
    </ul>
    <button id="btn">Add Another List Item</button>
  
<script>
    
// Activity 1: Basic Event Handling
    // • Task 1: Add a click event listener to a button that changes the text content of a paragraph.
        const button = document.querySelector('button');
        button.addEventListener('click', function(){
            const para = document.querySelector('#demo');
            para.textContent = "New Clicked Text Content";
        })

    // • Task 2: Add a double-click event listener to an image that toggles its visibility.
        const image = document.querySelector('img');
        image.addEventListener('dblclick', function(){
            image.style.visibility = image.style.visibility === "hidden" ? "visible": "hidden"
        })
        
// Activity 2: Mouse Events
    // • Task 3: Add a mouseover event listener to an element that changes its background color.
        const btn = document.querySelector('button');
        btn.addEventListener('mouseover', function(event){
            console.log(event);
            btn.style.backgroundColor = "red";
        })

    // • Task 4: Add a mouseout event listener to an element that resets its background color.
        btn.addEventListener('mouseout', function(event){
            btn.style.backgroundColor = "";
        })
    
    // Activity 3: Keyboard Events
    // • Task 5: Add a keydown event listener to an input field that logs the key pressed to the console.
        const input = document.querySelector('input');
        input.addEventListener('keydown', function(event){
            console.log(event);
        })
    
    // • Task 6: Add a keyup event listener to an input field that displays the current value in a paragraph.
        input.addEventListener('keyup', function(event){
            const paragraph = document.querySelector('.inputPara');
            console.log(event.target);
            paragraph.textContent = `Current Value: ${event.target}`;
        })
    
// Activity 4: Form Events
    // • Task 7: Add a submit event listener to a form that prevents the default submission and logs the form data to the console.
        const form = document.querySelector('form');
        console.log(form);
        form.addEventListener('submit', function(event){
            event.preventDefault();
            // console.log(this);
            // console.log(form );
            const formData = new FormData(this);  
             console.log(Object.fromEntries(formData.entries())) //convert Form Object to JS Object
            }
        )

    // • Task 8: Add a change event listener to a select dropdown that displays the selected value in a paragraph.
        const dropdown  = document.querySelector('#country')
        // console.log(dropdown.value)
        const para2 = document.querySelector('#para2');
        dropdown.addEventListener('change', function(event){
            console.log(event.target?.value, "this also works");
            para2.textContent=`The selected value is ${this.value}`;
        })             
            
// Activity 5: Event Delegation
    // • Task 9: Add a click event listener to a list that logs the text content of the clicked list item using event delegation.
          const list = document.querySelector('ul');
          list.addEventListener('click', function(event){
            if (event.target && event.target.nodeName === 'LI') {
            // Log the text content of the clicked list item
            console.log(event.target.textContent);
            }
          })
    // • Task 10: Add an event listener to a parent element that listens for events from dynamically added child elements.
    list.addEventListener('click', function(event){
        console.log(event.target);
        if(event.target && event.target.classList.contains('list')){
            console.log("New Child Element added",event.target.textContent);
            // Handle the click event for the dynamically added child element.
        }
    });
    const listButton = document.querySelector('#btn');
        listButton.addEventListener('click', function(event){
            // console.log("CLicked")
            const newItem = document.createElement('li');
            newItem.classList.add('list');
            newItem.textContent = "New List Item";
            list.appendChild(newItem);
        })


</script>
</body>
</html>
